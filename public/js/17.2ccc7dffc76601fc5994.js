(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{Ld5H:function(t,s,e){(t.exports=e("I1BE")(!1)).push([t.i,"\n#articles-list, #new-article-wrap {\n\twidth:80%;\n\tmargin:auto;\n}\n#articles-list .article-wrap {\n\tborder:1px solid black;\n\tbackground-color:white;\n\tbox-shadow:0px 0px 3px black;\n\tmargin:3px 0px;\n\twidth:100%;\n\tpadding:5px;\n\tfont-size:18px;\n\tborder-radius:5px;\n}\n#edit-wrap {\n\tmargin:20px 0px;\n}\n#series-name, #series-desc{\n\twidth:75%;\n}\n\n\n",""])},dlhv:function(t,s,e){"use strict";e.r(s);var i=e("MQ60"),a={components:{draggable:e.n(i).a},data:function(){return{series:void 0,articles:[],articles_available:[]}},created:function(){var t=this;this.$http.get("series/edit/"+this.$route.params.id).then((function(s){t.series=s.data.series,t.articles=t.series.articles,t.articles_available=s.data.articles_available,$("#series-name").val(t.series.name),$("#series-desc").val(t.series.description)}))},methods:{addArticle:function(){var t,s=$("#new-art-select").val();0!=s&&(this.articles_available.forEach((function(e,i){e.id!=s||(t=e)})),this.articles.push(t),$("#option-"+s).css("display","none"),$("#new-art-select").val(0))},deleteArticle:function(t){var s;this.articles.forEach((function(e,i){e.id!=t||(s=i)})),this.articles.splice(s,1)},updateSeries:function(){var t=this.articles.map((function(t){return t.id}));console.log(),this.$http.patch("series/order/"+this.$route.params.id,{articles:t}).then((function(t){toastr.success("Series updated!")}))},updateInfo:function(){this.$http.patch("series/"+this.$route.params.id,{name:$("#series-name").val(),description:$("#series-desc").val()}).then((function(t){toastr.success("Series updated!")}))}}},r=(e("zx+B"),e("KHd+")),n=Object(r.a)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"edit-wrap"}},[e("div",{staticClass:"text-center"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.updateInfo(s)}}},[e("div",{staticClass:"form-group",attrs:{id:"info-form-wrap"}},[e("div",{staticClass:"row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("form.title")))]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"description"}},[t._v(t._s(t.$t("form.description")))]),t._v(" "),t._m(1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-3 offset-6 text-right"},[e("button",{staticClass:"btn btn-success form-control d-inline",attrs:{type:"submit"}},[t._v(t._s(t.$t("form.edit")))])])])])])]),t._v(" "),e("br"),e("hr"),e("br"),t._v(" "),e("div",[e("h3",{staticClass:"text-center"},[t._v(t._s(t.$t("page.articles"))+":")]),t._v(" "),e("div",{attrs:{id:"articles-list"}},[e("draggable",{on:{start:function(s){t.drag=!0},end:function(s){t.drag=!1}},model:{value:t.articles,callback:function(s){t.articles=s},expression:"articles"}},t._l(t.articles,(function(s){return e("div",{key:s.id,staticClass:"row article-wrap"},[e("div",{staticClass:"col-10"},[e("span",{staticClass:"article"},[t._v(t._s(s.title))])]),t._v(" "),e("div",{staticClass:"col-2 text-right"},[e("button",{staticClass:"btn btn-danger d-inline",on:{click:function(e){return t.deleteArticle(s.id)}}},[t._v(t._s(t.$t("form.delete")))])])])})),0)],1),t._v(" "),t.articles_available.length>0?e("div",{attrs:{id:"new-article-wrap"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-10"},[e("select",{staticClass:"form-control form-control-lg",attrs:{id:"new-art-select"}},[e("option",{staticClass:"add-art-option",attrs:{value:"0"}},[t._v(t._s(t.$t("form.none")))]),t._v(" "),t._l(t.articles_available,(function(s){return e("option",{key:s.id,staticClass:"add-art-option",attrs:{id:"option-"+s.id},domProps:{value:s.id,textContent:t._s(s.title)}})}))],2)]),t._v(" "),e("div",{staticClass:"col-2"},[e("button",{staticClass:"btn btn-primary",on:{click:function(s){return t.addArticle()}}},[t._v(t._s(t.$t("form.create")))])])])]):t._e(),t._v(" "),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-success d-inline",on:{click:t.updateSeries}},[t._v(t._s(t.$t("form.submit")))])])])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-sm-10"},[s("input",{staticClass:"form-control",attrs:{type:"text",id:"series-name",name:"name"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-sm-10"},[s("textarea",{staticClass:"form-control",attrs:{id:"series-desc",name:"description",rows:"2"}})])}],!1,null,null,null);s.default=n.exports},kPJW:function(t,s,e){var i=e("Ld5H");"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(i,a);i.locals&&(t.exports=i.locals)},"zx+B":function(t,s,e){"use strict";var i=e("kPJW");e.n(i).a}}]);